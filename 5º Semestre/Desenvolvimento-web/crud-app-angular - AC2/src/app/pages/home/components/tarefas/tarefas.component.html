<h1 class="text-center mt-5 mb-5">Tarefas</h1>
<table class="table table-striped table-dark">
  <thead>
    <tr>
      <th scope="col" class="coluna-tabela">Descrição</th>
      <th scope="col" class="coluna-tabela">Status</th>
      <th scope="col" class="coluna-tabela text-center">Ação</th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="let task of task"
      [ngClass]="{
        'table-warning': task.status === 'Em andamento',
        'table-success': task.status === 'Concluído'
      }"
    >
      <td>
        <div class="descricao-tarefa" *ngIf="!task.editing">
          <span>{{ task.description }}</span>
        </div>

        <input
          type="text"
          class="form-control input-editar"
          *ngIf="task.editing"
          [(ngModel)]="task.description"
          (keyup.enter)="salvarEdicao(task)"
        />
      </td>
      <td>
        <div class="status">
          <span>{{ task.status }}</span>
        </div>
      </td>
      <td class="text-center">
        <button
          class="btn btn-acao"
          style="margin-right: 10px"
          [ngClass]="{
            'btn-primary': task.status === 'Não iniciado',
            'btn-success': task.status === 'Em andamento',
            'botao-laranja': task.status === 'Concluído'
          }"
          (click)="botaoConcluir(task)"
        >
          {{
            task.status === "Não iniciado"
              ? "Iniciar"
              : task.status === "Em andamento"
              ? "Concluir"
              : "Reiniciar"
          }}
        </button>
        <button
          class="btn btn-acao"
          style="margin-right: 10px"
          [class.btn-warning]="!task.editing"
          [class.btn-success]="task.editing"
          (click)="editarTarefa(task)"
        >
          {{ task.editing ? "Salvar" : "Editar" }}
        </button>
        <button class="btn btn-danger btn-acao" (click)="deletarTarefa(task)">
          Deletar
        </button>
      </td>
    </tr>
  </tbody>
</table>

<div class="d-flex justify-content-center">
  <button class="btn btn-success" id="nova-tarefa" (click)="incluirTarefa()">
    Nova Tarefa <i class="bi bi-plus-circle"></i>
  </button>
</div>

